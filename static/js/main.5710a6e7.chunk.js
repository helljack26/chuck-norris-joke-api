(this["webpackJsonpchuck-api"]=this["webpackJsonpchuck-api"]||[]).push([[0],[,,,,function(e,t,n){e.exports={radioGroup:"RadioGroup_radioGroup__RtmUZ",radioGroupItem:"RadioGroup_radioGroupItem__zdha9",radioBtn:"RadioGroup_radioBtn__EsthD",categoryBlock:"RadioGroup_categoryBlock__2Rirg",searchInput:"RadioGroup_searchInput__1X1NB",displayNone:"RadioGroup_displayNone__Rykhe",displayBlock:"RadioGroup_displayBlock__nGaZs"}},function(e,t,n){e.exports={jokeBlockItem:"JokeBlockItem_jokeBlockItem__3TBFt",jokeBlockFavoriteItem:"JokeBlockItem_jokeBlockFavoriteItem__3A9Lt",icon:"JokeBlockItem_icon__ZagSH",data:"JokeBlockItem_data__11KLk",idBlock:"JokeBlockItem_idBlock__1KXRK",id:"JokeBlockItem_id__3Arur",linkText:"JokeBlockItem_linkText__fc5wd",linkIcon:"JokeBlockItem_linkIcon__fvIrw",text:"JokeBlockItem_text__280FL",jokeFooter:"JokeBlockItem_jokeFooter__1Priv",lastUpdate:"JokeBlockItem_lastUpdate__9cGq_",categories:"JokeBlockItem_categories__1wAMJ"}},function(e,t,n){e.exports={addIconBtn:"AddToFavoriteButton_addIconBtn__1v0ui",addIconFavoriteBtn:"AddToFavoriteButton_addIconFavoriteBtn__21cZ6",notInFavorite:"AddToFavoriteButton_notInFavorite__1ZT7K",inFavorite:"AddToFavoriteButton_inFavorite__4S5ey",addIcon:"AddToFavoriteButton_addIcon__2ca-w",detailsBtn:"AddToFavoriteButton_detailsBtn__1YoLo"}},,,,function(e,t,n){e.exports={categoriesBlock:"RadioGroupCategories_categoriesBlock__3e_Et",categoriesBtn:"RadioGroupCategories_categoriesBtn__3IphQ",active:"RadioGroupCategories_active__3W71I"}},function(e,t,n){e.exports={mainHeader:"MainHeader_mainHeader__DfbOA",logo:"MainHeader_logo__33coh","hvr-buzz-out":"MainHeader_hvr-buzz-out__2DU-i",description:"MainHeader_description__1e2mZ"}},,,,,function(e,t,n){e.exports={mainButton:"MainButton_mainButton__3xE9d"}},,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(8),c=n.n(a),r=n(2),i=n(7),s=n(15),u=n(3),l="SET_CATEGORIES_LIST",d="SET_JOKE_LIST",j="UPDATE_SEARCH_BY_INPUT",f="UPDATE_CATEGORY_JOKE",p="SET_RADIO_SEARCH_STATE",b="SET_FAVORITE_LIST_STATE",v="SET_FAVORITE_JOKE_LIST",k=function(e){return{type:d,payload:e}},_=function(e){return{type:j,payload:e}},h=function(e){return{type:f,payload:e}},O=function(e){return{type:p,payload:e}},m=function(e){return{type:b,payload:e}},B=function(e){return{type:v,payload:e}},x=function(){return function(e){fetch("https://api.chucknorris.io/jokes/categories").then((function(e){return e.json()})).then((function(t){return e({type:l,payload:t})}))}},g=function(){return function(e,t){var n=t(),o=n.chuckApi.searchCategory,a=n.chuckApi.searchByInput,c={random:"https://api.chucknorris.io/jokes/random",category:"https://api.chucknorris.io/jokes/random?category=".concat(o),byInput:"https://api.chucknorris.io/jokes/search?query=".concat(a)},r=Boolean(!o&&!a),i=Boolean(a&&!o);fetch(r?c.random:i?c.byInput:c.category).then((function(e){return e.json()})).then((function(n){if(!(!1===!!n.total&&!1===!!n.id&&!0===!!n.error)){var o=y(n,e,t);return e(k([])),e(k(o))}}))}},y=function(e,t,n){var o=n().chuckApi.favoriteJokeList,a=(!0===(void 0!==e.result)?e.result:[e]).map((function(e){var t=e.categories,n=e.icon_url;return{categories:t||"",icon_url:n||"",id:e.id,updated_at:e.updated_at,url:e.url,value:e.value,inFavorite:!1}}));return Boolean(null===o)?a:(t(B(o)),a.map((function(e){return function(e){var t=o.find((function(t){return t.id===e.id}));return!0===Boolean(t)?t:e}(e)})))},I=function(e,t){return function(n){return localStorage.setItem("favoriteList",JSON.stringify(t)),n(k([])),n(k(e)),n(B([])),n(B(t))}},F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,N=Object(i.d)(Object(i.b)({chuckApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categoriesList:[],jokeList:[],searchByInput:"",searchCategory:"",radioSearchState:!1,favoriteListStateBtn:!1,favoriteJokeList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{categoriesList:t.payload});case d:return Object(u.a)(Object(u.a)({},e),{},{jokeList:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{searchByInput:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{searchCategory:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{radioSearchState:t.payload});case b:return Object(u.a)(Object(u.a)({},e),{},{favoriteListStateBtn:t.payload});case v:return Object(u.a)(Object(u.a)({},e),{},{favoriteJokeList:t.payload});default:return e}}}),F(Object(i.a)(s.a))),T=N,A=(n(24),n(25),n(9)),S=n(4),L=n.n(S),E=n(10),J=n.n(E),C=n(0),G=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.categoriesList})),n=Object(r.c)((function(e){return e.chuckApi.searchCategory}));Object(o.useEffect)((function(){e(x())}),[e]);var a=!1;return!1===a&&(a=!0,h(t[0])),Object(C.jsx)("div",{className:J.a.categoriesBlock,children:t.map((function(t,o){return Object(C.jsx)("button",{type:"button",className:"".concat(J.a.categoriesBtn,"  \n                        ").concat(n===t?J.a.active:null),onClick:function(){return e(h(t))},children:t},o)}))})},R=function(){var e=Object(r.c)((function(e){return e.chuckApi.categoriesList})),t=Object(r.c)((function(e){return e.chuckApi.radioSearchState})),n=Object(r.b)(),a=Object(o.useState)(!1),c=Object(A.a)(a,2),i=c[0],s=c[1];return Object(C.jsxs)("form",{className:L.a.radioGroup,children:[Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"random",name:"contact",value:"random",defaultChecked:!0,onClick:function(){return s(!1),n(O(!1)),n(h("")),n(_(""))}}),Object(C.jsx)("label",{htmlFor:"random",children:"Random"})]}),Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"fromCategories",name:"contact",value:"fromCategories",onClick:function(){return s(!0),n(O(!1)),n(_("")),n(h(e[0]))}}),Object(C.jsx)("label",{htmlFor:"fromCategories",children:"From categories"})]}),Object(C.jsx)("div",{className:"".concat(!1===i?L.a.displayNone:L.a.displayBlock),children:Object(C.jsx)(G,{})}),Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"search",name:"contact",value:"search",onClick:function(){return s(!1),n(O(!0)),n(h(""))}}),Object(C.jsx)("label",{htmlFor:"search",children:"Search"})]}),Object(C.jsx)("div",{className:"".concat(!1===t?L.a.displayNone:L.a.displayBlock),children:Object(C.jsx)("input",{type:"text",required:"required",className:L.a.searchInput,placeholder:"Free text search...",onKeyPress:function(e){return function(e){"Enter"===e.key&&""!==e.target.value&&e.preventDefault()}(e)},onInput:function(e){return n(_(e.target.value))}})})]})},D=n(11),H=n.n(D),w=function(){return Object(C.jsxs)("div",{className:H.a.mainHeader,children:[Object(C.jsx)("img",{src:"./img/icon/chucknorris_logo.png",alt:"Logo",className:H.a.logo}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Hey!"}),Object(C.jsx)("p",{className:H.a.description,children:"Let's try to find a joke for you:"})]})]})},M=n(16),U=n.n(M),K=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.radioSearchState})),n=Object(r.c)((function(e){return e.chuckApi.searchByInput})),o=n?n.length:null,a=Boolean(o<3),c=Boolean(t),i=!1===a&&!0===c,s=!1===c;return Object(C.jsx)("button",{type:"button",className:U.a.mainButton,onClick:function(){return i||s?e(g()):null},children:"Get a joke"})},P=n(5),Z=n.n(P),z=n(6),q=n.n(z),X=function(e){var t=e.categories,n=e.icon_url,a=e.id,c=e.updated_at,i=e.url,s=e.inFavorite,u=void 0===s?void 0:s,l=e.value,d=e.favoriteBlockStyle,j=Object(r.b)(),f=Object(o.useState)(),p=Object(A.a)(f,2),b=p[0],v=p[1];return Object(o.useEffect)((function(){return void 0!==u?v(u):null}),[v,u]),!0===b?Object(C.jsx)("button",{type:"button",className:d?q.a.addIconFavoriteBtn:q.a.addIconBtn,children:Object(C.jsx)("img",{src:"./img/icon/heart.svg",alt:"In favorite button",className:q.a.inFavorite,onClick:function(){return j(function(e){return function(t,n){var o=n(),a=o.chuckApi.favoriteJokeList,c=o.chuckApi.jokeList;return Boolean(c.find((function(t){return t.id===e})))?(a.find((function(t){return t.id===e})).inFavorite=!1,c.find((function(t){return t.id===e})).inFavorite=!1):a.find((function(t){return t.id===e})).inFavorite=!1,t(I(c,a))}}(a)),v(!1)}})}):Object(C.jsx)("button",{type:"button",className:d?q.a.addIconFavoriteBtn:q.a.addIconBtn,children:Object(C.jsx)("img",{src:"./img/icon/heart_stroke.svg",alt:"Add to Favorite Button",className:q.a.notInFavorite,onClick:function(){return j(function(e,t,n,o,a,c){return function(r,i){var s=i(),u=s.chuckApi.favoriteJokeList,l=s.chuckApi.jokeList,d=Boolean(u.find((function(e){return e.id===n}))),j=Boolean(l.find((function(e){return e.id===n}))),f=j&&d,p=j&&d;if(j&&d&&(u.find((function(e){return e.id===n})).inFavorite=!0,l.find((function(e){return e.id===n})).inFavorite=!0),f){l.find((function(e){return e.id===n})).inFavorite=!0;var b={categories:e,icon_url:t,id:n,updated_at:o,url:a,value:c,inFavorite:!0};u.unshift(b)}return p&&(u.find((function(e){return e.id===n})).inFavorite=!0),r(I(l,u))}}(t,n,a,c,i,l)),v(!0)}})})},V=function(e){var t=new Date("".concat(e.slice(0,10).replace("-","/").replace("-","/"))),n=new Date,o=t.getTime()-n.getTime(),a=Math.abs(o/864e5);return Math.ceil(a)},Y=function(e){var t=e.jokeData,n=e.favoriteBlockStyle,o=t.categories,a=t.icon_url,c=t.id,r=t.updated_at,i=t.url,s=t.value,u=t.inFavorite,l=Boolean(o)?0!==o.length:null;return Object(C.jsxs)("div",{className:void 0===n?Z.a.jokeBlockItem:Z.a.jokeBlockFavoriteItem,children:[Object(C.jsx)("div",{className:Z.a.icon,children:Object(C.jsx)("img",{src:a,alt:"Joke icon"})}),Object(C.jsx)(X,{categories:o,icon_url:a,id:c,updated_at:r,url:i,value:s,inFavorite:u,favoriteBlockStyle:n}),Object(C.jsxs)("div",{className:Z.a.data,children:[Object(C.jsxs)("div",{className:Z.a.idBlock,children:[Object(C.jsx)("p",{className:Z.a.id,children:"ID:"}),Object(C.jsxs)("a",{href:i,className:Z.a.linkText,children:[c,Object(C.jsx)("img",{src:"./img/icon/external-link.svg",className:Z.a.linkIcon,alt:"Icon external link"})]})]}),Object(C.jsx)("p",{className:Z.a.text,children:s}),Object(C.jsxs)("div",{className:Z.a.jokeFooter,children:[void 0!==r?Object(C.jsxs)("p",{className:Z.a.lastUpdate,children:["Last update: ",V(r)," days ago."]}):null,l?Object(C.jsx)("p",{className:Z.a.categories,children:o}):null]})]})]})},Q=function(){var e=Object(r.c)((function(e){return e.chuckApi.jokeList})),t=Boolean(e);return Object(C.jsx)("div",{children:t?e.map((function(e,t){return Object(C.jsx)(Y,{jokeData:e},t)})):""})},W=function(){return Object(C.jsxs)("main",{children:[Object(C.jsx)(w,{}),Object(C.jsx)(R,{}),Object(C.jsx)(K,{}),Object(C.jsx)(Q,{})]})},$=(n(27),function(){return Object(C.jsx)("div",{className:"favoriteHeaderDesktop",children:Object(C.jsx)("p",{className:"favoriteHeaderText",children:"Favorite"})})}),ee=(n(28),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.favoriteListStateBtn})),n=!0===t,o=!1===t;return Object(C.jsxs)("div",{className:"favoriteHeaderTablet".concat(" ",n?"favoriteHeaderTabletActive":""),children:[Object(C.jsx)("button",{className:"favoriteBtn",onClick:function(){return e(m(!!o))},children:Object(C.jsx)("img",{src:o?"./img/icon/burgerMenu.svg":"./img/icon/burgerMenuClose.svg",alt:"Burger menu button"})}),Object(C.jsx)("p",{className:"favoriteHeaderText",children:"Favorite"})]})}),te=function(e){var t=e.screenType,n=Object(r.c)((function(e){return e.chuckApi.favoriteJokeList}));return!0===Boolean(n.length)?"desktop"===t?Object(C.jsx)($,{}):Object(C.jsx)(ee,{}):null},ne=(n(29),function(e){var t=e.screenType,n=e.favoriteJokeList,o=Object(r.c)((function(e){return e.chuckApi.favoriteListStateBtn})),a="desktop"===t,c=a?"favoriteContainerDesktop":"favoriteContainerTablet".concat(" ",!1===o?"favoriteBlockClosed":"favoriteBlockOpened"),i=a?"favoriteJokeBlock":"favoriteBlockTablet";return Object(C.jsxs)("aside",{className:c,children:[a?Object(C.jsx)(te,{screenType:"desktop"}):null,Object(C.jsx)("div",{className:i,children:n.map((function(e,t){return Object(C.jsx)(Y,{jokeData:e,favoriteBlockStyle:!0},t)}))})]})}),oe=function(){var e=!1,t=JSON.parse(window.localStorage.getItem("favoriteList"));return null!==t&&!1===e?(e=!0,t.filter((function(e){return!0===e.inFavorite}))):[]},ae=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.favoriteJokeList})),n=Boolean(t.length);return console.log(n),Object(o.useEffect)((function(){var t=void 0!==oe()?oe():[];e(B(t))}),[e]),!0===n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(te,{screenType:"tablet"}),Object(C.jsx)(ne,{screenType:"desktop",favoriteJokeList:t}),Object(C.jsx)(ne,{screenType:"tablet",favoriteJokeList:t})]}):null};var ce=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(W,{}),Object(C.jsx)(ae,{})]})};c.a.render(Object(C.jsx)(r.a,{store:T,children:Object(C.jsx)(ce,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.5710a6e7.chunk.js.map