(this["webpackJsonpchuck-api"]=this["webpackJsonpchuck-api"]||[]).push([[0],[,,,,function(e,t,n){e.exports={radioGroup:"RadioGroup_radioGroup__RtmUZ",radioGroupItem:"RadioGroup_radioGroupItem__zdha9",radioBtn:"RadioGroup_radioBtn__EsthD",categoryBlock:"RadioGroup_categoryBlock__2Rirg",searchInput:"RadioGroup_searchInput__1X1NB",displayNone:"RadioGroup_displayNone__Rykhe",displayBlock:"RadioGroup_displayBlock__nGaZs"}},function(e,t,n){e.exports={jokeBlockItem:"JokeBlockItem_jokeBlockItem__3TBFt",jokeBlockFavoriteItem:"JokeBlockItem_jokeBlockFavoriteItem__3A9Lt",icon:"JokeBlockItem_icon__ZagSH",data:"JokeBlockItem_data__11KLk",idBlock:"JokeBlockItem_idBlock__1KXRK",id:"JokeBlockItem_id__3Arur",linkText:"JokeBlockItem_linkText__fc5wd",linkIcon:"JokeBlockItem_linkIcon__fvIrw",text:"JokeBlockItem_text__280FL",jokeFooter:"JokeBlockItem_jokeFooter__1Priv",lastUpdate:"JokeBlockItem_lastUpdate__9cGq_",categories:"JokeBlockItem_categories__1wAMJ"}},function(e,t,n){e.exports={addIconBtn:"AddToFavoriteButton_addIconBtn__1v0ui",addIconFavoriteBtn:"AddToFavoriteButton_addIconFavoriteBtn__21cZ6",notInFavorite:"AddToFavoriteButton_notInFavorite__1ZT7K",inFavorite:"AddToFavoriteButton_inFavorite__4S5ey",addIcon:"AddToFavoriteButton_addIcon__2ca-w",detailsBtn:"AddToFavoriteButton_detailsBtn__1YoLo"}},,,,function(e,t,n){e.exports={categoriesBlock:"RadioGroupCategories_categoriesBlock__3e_Et",categoriesBtn:"RadioGroupCategories_categoriesBtn__3IphQ",active:"RadioGroupCategories_active__3W71I"}},function(e,t,n){e.exports={mainHeader:"MainHeader_mainHeader__DfbOA",logo:"MainHeader_logo__33coh","hvr-buzz-out":"MainHeader_hvr-buzz-out__2DU-i",description:"MainHeader_description__1e2mZ"}},,,,,function(e,t,n){e.exports={mainButton:"MainButton_mainButton__3xE9d"}},,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(8),c=n.n(o),r=n(2),i=n(7),s=n(15),u=n(3),l="SET_CATEGORIES_LIST",d="SET_JOKE_LIST",j="UPDATE_SEARCH_BY_INPUT",f="UPDATE_CATEGORY_JOKE",p="SET_RADIO_SEARCH_STATE",b="SET_FAVORITE_LIST_STATE",v="SET_FAVORITE_JOKE_LIST",k=function(e){return{type:d,payload:e}},_=function(e){return{type:j,payload:e}},h=function(e){return{type:f,payload:e}},O=function(e){return{type:p,payload:e}},m=function(e){return{type:b,payload:e}},B=function(e){return{type:v,payload:e}},x=function(){return function(e){fetch("https://api.chucknorris.io/jokes/categories").then((function(e){return e.json()})).then((function(t){return e({type:l,payload:t})}))}},g=function(){return function(e,t){var n=t(),a=n.chuckApi.searchCategory,o=n.chuckApi.searchByInput,c={random:"https://api.chucknorris.io/jokes/random",category:"https://api.chucknorris.io/jokes/random?category=".concat(a),byInput:"https://api.chucknorris.io/jokes/search?query=".concat(o)},r=Boolean(!a&&!o),i=Boolean(o&&!a);fetch(r?c.random:i?c.byInput:c.category).then((function(e){return e.json()})).then((function(n){if(!(!1===!!n.total&&!1===!!n.id&&!0===!!n.error)){var a=y(n,e,t);return e(k([])),e(k(a))}}))}},y=function(e,t,n){var a=n().chuckApi.favoriteJokeList,o=(!0===Boolean(void 0!==e.result)?e.result:[e]).map((function(e){var t=e.categories,n=e.icon_url;return{categories:t||"",icon_url:n||"",id:e.id,updated_at:e.updated_at,url:e.url,value:e.value,inFavorite:!1}}));return Boolean(null===a)?o:(t(B(a)),o.map((function(e){return function(e){var t=a.find((function(t){return t.id===e.id}));return!0===Boolean(t)?t:e}(e)})))},I=function(e,t){return function(n){return localStorage.setItem("favoriteList",JSON.stringify(t)),n(k([])),n(k(e)),n(B([])),n(B(t))}},F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,N=Object(i.d)(Object(i.b)({chuckApi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categoriesList:[],jokeList:[],searchByInput:"",searchCategory:"",radioSearchState:!1,favoriteListStateBtn:!1,favoriteJokeList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{categoriesList:t.payload});case d:return Object(u.a)(Object(u.a)({},e),{},{jokeList:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{searchByInput:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{searchCategory:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{radioSearchState:t.payload});case b:return Object(u.a)(Object(u.a)({},e),{},{favoriteListStateBtn:t.payload});case v:return Object(u.a)(Object(u.a)({},e),{},{favoriteJokeList:t.payload});default:return e}}}),F(Object(i.a)(s.a))),T=N,S=(n(24),n(25),n(9)),A=n(4),L=n.n(A),E=n(10),J=n.n(E),C=n(0),G=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.categoriesList})),n=Object(r.c)((function(e){return e.chuckApi.searchCategory}));Object(a.useEffect)((function(){e(x())}),[e]);var o=!1;return!1===o&&(o=!0,h(t[0])),Object(C.jsx)("div",{className:J.a.categoriesBlock,children:t.map((function(t,a){return Object(C.jsx)("button",{type:"button",className:"".concat(J.a.categoriesBtn,"  \n                        ").concat(n===t?J.a.active:null),onClick:function(){return e(h(t))},children:t},a)}))})},R=function(){var e=Object(r.c)((function(e){return e.chuckApi.categoriesList})),t=Object(r.c)((function(e){return e.chuckApi.radioSearchState})),n=Object(r.b)(),o=Object(a.useState)(!1),c=Object(S.a)(o,2),i=c[0],s=c[1];return Object(C.jsxs)("form",{className:L.a.radioGroup,children:[Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"random",name:"contact",value:"random",defaultChecked:!0,onClick:function(){return s(!1),n(O(!1)),n(h("")),n(_(""))}}),Object(C.jsx)("label",{htmlFor:"random",children:"Random"})]}),Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"fromCategories",name:"contact",value:"fromCategories",onClick:function(){return s(!0),n(O(!1)),n(_("")),n(h(e[0]))}}),Object(C.jsx)("label",{htmlFor:"fromCategories",children:"From categories"})]}),Object(C.jsx)("div",{className:"".concat(!1===i?L.a.displayNone:L.a.displayBlock),children:Object(C.jsx)(G,{})}),Object(C.jsxs)("div",{className:L.a.radioGroupItem,children:[Object(C.jsx)("input",{type:"radio",className:L.a.radioBtn,id:"search",name:"contact",value:"search",onClick:function(){return s(!1),n(O(!0)),n(h(""))}}),Object(C.jsx)("label",{htmlFor:"search",children:"Search"})]}),Object(C.jsx)("div",{className:"".concat(!1===t?L.a.displayNone:L.a.displayBlock),children:Object(C.jsx)("input",{type:"text",required:"required",className:L.a.searchInput,placeholder:"Free text search...",onKeyPress:function(e){return function(e){"Enter"===e.key&&""!==e.target.value&&e.preventDefault()}(e)},onInput:function(e){return n(_(e.target.value))}})})]})},D=n(11),H=n.n(D),w=n.p+"static/media/chucknorris_logo.b4cfc6eb.png",M=function(){return Object(C.jsxs)("div",{className:H.a.mainHeader,children:[Object(C.jsx)("img",{src:w,alt:"Logo",className:H.a.logo}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h1",{children:"Hey!"}),Object(C.jsx)("p",{className:H.a.description,children:"Let's try to find a joke for you:"})]})]})},U=n(16),K=n.n(U),P=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.radioSearchState})),n=Object(r.c)((function(e){return e.chuckApi.searchByInput})),a=n?n.length:null,o=Boolean(a<3),c=Boolean(t),i=!1===o&&!0===c,s=!1===c;return Object(C.jsx)("button",{type:"button",className:K.a.mainButton,onClick:function(){return i||s?e(g()):null},children:"Get a joke"})},Z=n(5),z=n.n(Z),q=n(6),X=n.n(q),V=n.p+"static/media/heart.870ed1c2.svg",Y=n.p+"static/media/heart_stroke.540fe9c3.svg",Q=(n.p,n.p,function(e){var t=e.categories,n=e.icon_url,o=e.id,c=e.updated_at,i=e.url,s=e.inFavorite,u=void 0===s?void 0:s,l=e.value,d=e.favoriteBlockStyle,j=Object(r.b)(),f=Object(a.useState)(),p=Object(S.a)(f,2),b=p[0],v=p[1];return Object(a.useEffect)((function(){return void 0!==u?v(u):null}),[v,u]),!0===b?Object(C.jsx)("button",{type:"button",className:d?X.a.addIconFavoriteBtn:X.a.addIconBtn,children:Object(C.jsx)("img",{src:V,alt:"In favorite button",className:X.a.inFavorite,onClick:function(){return j(function(e){return function(t,n){var a=n(),o=a.chuckApi.favoriteJokeList,c=a.chuckApi.jokeList;return Boolean(c.find((function(t){return t.id===e})))?(o.find((function(t){return t.id===e})).inFavorite=!1,c.find((function(t){return t.id===e})).inFavorite=!1):o.find((function(t){return t.id===e})).inFavorite=!1,t(I(c,o))}}(o)),v(!1)}})}):Object(C.jsx)("button",{type:"button",className:d?X.a.addIconFavoriteBtn:X.a.addIconBtn,children:Object(C.jsx)("img",{src:Y,alt:"Add to Favorite Button",className:X.a.notInFavorite,onClick:function(){return j(function(e,t,n,a,o,c){return function(r,i){var s=i(),u=s.chuckApi.favoriteJokeList,l=s.chuckApi.jokeList,d=Boolean(u.find((function(e){return e.id===n}))),j=Boolean(l.find((function(e){return e.id===n}))),f=j&&d,p=j&&d;if(j&&d&&(u.find((function(e){return e.id===n})).inFavorite=!0,l.find((function(e){return e.id===n})).inFavorite=!0),f){l.find((function(e){return e.id===n})).inFavorite=!0;var b={categories:e,icon_url:t,id:n,updated_at:a,url:o,value:c,inFavorite:!0};u.unshift(b)}return p&&(u.find((function(e){return e.id===n})).inFavorite=!0),r(I(l,u))}}(t,n,o,c,i,l)),v(!0)}})})}),W=n.p+"static/media/external-link.0bfe0388.svg",$=function(e){var t=new Date("".concat(e.slice(0,10).replace("-","/").replace("-","/"))),n=new Date,a=t.getTime()-n.getTime(),o=Math.abs(a/864e5);return Math.ceil(o)},ee=function(e){var t=e.jokeData,n=e.favoriteBlockStyle,a=t.categories,o=t.icon_url,c=t.id,r=t.updated_at,i=t.url,s=t.value,u=t.inFavorite,l=Boolean(a)?0!==a.length:null;return Object(C.jsxs)("div",{className:void 0===n?z.a.jokeBlockItem:z.a.jokeBlockFavoriteItem,children:[Object(C.jsx)("div",{className:z.a.icon,children:Object(C.jsx)("img",{src:o,alt:"Joke icon"})}),Object(C.jsx)(Q,{categories:a,icon_url:o,id:c,updated_at:r,url:i,value:s,inFavorite:u,favoriteBlockStyle:n}),Object(C.jsxs)("div",{className:z.a.data,children:[Object(C.jsxs)("div",{className:z.a.idBlock,children:[Object(C.jsx)("p",{className:z.a.id,children:"ID:"}),Object(C.jsxs)("a",{href:i,className:z.a.linkText,children:[c,Object(C.jsx)("img",{src:W,className:z.a.linkIcon,alt:"Icon external link"})]})]}),Object(C.jsx)("p",{className:z.a.text,children:s}),Object(C.jsxs)("div",{className:z.a.jokeFooter,children:[void 0!==r?Object(C.jsxs)("p",{className:z.a.lastUpdate,children:["Last update: ",$(r)," days ago."]}):null,l?Object(C.jsx)("p",{className:z.a.categories,children:a}):null]})]})]})},te=function(){var e=Object(r.c)((function(e){return e.chuckApi.jokeList})),t=Boolean(e);return Object(C.jsx)("div",{children:t?e.map((function(e,t){return Object(C.jsx)(ee,{jokeData:e},t)})):""})},ne=function(){return Object(C.jsxs)("main",{children:[Object(C.jsx)(M,{}),Object(C.jsx)(R,{}),Object(C.jsx)(P,{}),Object(C.jsx)(te,{})]})},ae=(n(27),function(){return Object(C.jsx)("div",{className:"favoriteHeaderDesktop",children:Object(C.jsx)("p",{className:"favoriteHeaderText",children:"Favorite"})})}),oe=(n(28),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.favoriteListStateBtn})),n=!0===t,a=!1===t;return Object(C.jsxs)("div",{className:"favoriteHeaderTablet".concat(" ",n?"favoriteHeaderTabletActive":""),children:[Object(C.jsx)("button",{className:"favoriteBtn",onClick:function(){return e(m(!!a))},children:Object(C.jsx)("img",{src:a?"./img/icon/burgerMenu.svg":"./img/icon/burgerMenuClose.svg",alt:"Burger menu button"})}),Object(C.jsx)("p",{className:"favoriteHeaderText",children:"Favorite"})]})}),ce=function(e){var t=e.screenType,n=Object(r.c)((function(e){return e.chuckApi.favoriteJokeList}));return!0===Boolean(n.length)?"desktop"===t?Object(C.jsx)(ae,{}):Object(C.jsx)(oe,{}):null},re=(n(29),function(e){var t=e.screenType,n=e.favoriteJokeList,a=Object(r.c)((function(e){return e.chuckApi.favoriteListStateBtn})),o="desktop"===t,c=o?"favoriteContainerDesktop":"favoriteContainerTablet".concat(" ",!1===a?"favoriteBlockClosed":"favoriteBlockOpened"),i=o?"favoriteJokeBlock":"favoriteBlockTablet";return Object(C.jsxs)("aside",{className:c,children:[o?Object(C.jsx)(ce,{screenType:"desktop"}):null,Object(C.jsx)("div",{className:i,children:n.map((function(e,t){return Object(C.jsx)(ee,{jokeData:e,favoriteBlockStyle:!0},t)}))})]})}),ie=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.chuckApi.favoriteJokeList})),n=Boolean(t.length);return console.log("ffff"),Object(a.useEffect)((function(){var t=function(){var e=!1;if(null!==window.localStorage.getItem("favoriteList")){var t=JSON.parse(window.localStorage.getItem("favoriteList"));if(!1===e)return e=!0,t.filter((function(e){return!0===e.inFavorite}))}}();void 0!==t&&e(B(t))}),[e]),!0===n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ce,{screenType:"tablet"}),Object(C.jsx)(re,{screenType:"desktop",favoriteJokeList:t}),Object(C.jsx)(re,{screenType:"tablet",favoriteJokeList:t})]}):null};var se=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ne,{}),Object(C.jsx)(ie,{})]})};c.a.render(Object(C.jsx)(r.a,{store:T,children:Object(C.jsx)(se,{})}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.de2d8daf.chunk.js.map